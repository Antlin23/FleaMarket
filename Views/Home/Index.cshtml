@using FleaMarket.Models.Entities;
@using FleaMarket.Services;
@using Microsoft.AspNetCore.Identity;
@inject MarketService marketService
@{
    var markets = await marketService.GetAllAsync();
    ViewData["Title"] = "Hem";
}

<div class="container mt-5">
    <h2 class="mb-5">Aktiva marknader</h2>

    <div class="">
        @foreach (var market in markets)
        {
            <div class="bg-light p-3 my-2">
                <h3><a asp-controller="Product" asp-action="Market" asp-route-marketName="@market.MarketTitle">@market.MarketTitle</a></h3>
                @if (market.TimeOpen != null)
                {
                    <p>@market.TimeOpen</p>
                }
                @if (market.marketDescription != null)
                {
                    <p>@market.marketDescription</p>
                }
                <p>@market.City @market.Address</p>
                @if (market.MarketLink != null)
                {
                    <a href="@market.MarketLink" target="_blank">Mer info <i class="fa-solid fa-arrow-up-right-from-square"></i></a>
                }
            </div>
        }

    </div>

</div>